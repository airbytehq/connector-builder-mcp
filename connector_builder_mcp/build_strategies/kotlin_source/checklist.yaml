#
# This checklist guides you through the process of building a Kotlin-based
#
# Steps marked with "ğŸ“" have outputs which should be shared with your user,
# or in a log file if no user is available.

# Task lists matching TaskList model properties
basic_connector_tasks:

  - id: understand-kotlin-source-build-process
    name: Understand Kotlin source connector build process
    description: >
      Review the Kotlin source connector documentation to understand the
      overall process and requirements for building Kotlin-based source connectors.

      Mark this task complete only after you have read and understood the
      following:
      - Start by listing your Connector Builder MCP tools to
        understand what functionality is available to you.
      - If your client supports it, you can also list the MCP resource assets.
        (Ignore if your client does not support MCP 'resource' assets.)
      - Review the "kotlin_source_overview" topic in the docs tool to understand the
        overall process.
      - Understand that you will step through the checklist tasks
        sequentially, using the 'get next tasks' tool and 'update task status' tool to progress through the checklist.

  - id: setup-kotlin-development-environment
    name: Setup Kotlin development environment
    description: >
      ğŸ“ Ensure the Kotlin development environment is properly configured,
      including JDK, Gradle, and necessary dependencies.

  - id: locate-api-docs
    name: Locate API documentation
    description: ğŸ“ Locate API reference docs using online search.

  - id: enumerate-available-streams
    name: Enumerate available streams
    description: >
      ğŸ“ **Enumerate all available streams first**: Before beginning work on
      any stream, research the API documentation to identify and list ALL
      available streams/endpoints. Share this complete list with your user
      (or the message thread) so they can provide guidance on priorities or
      exclusions.

      After enumerating the streams, call the add_stream_tasks tool with the
      list of stream names to register tasks for each stream in the checklist.

  - id: identify-auth-requirements
    name: Identify authentication requirements
    description: >
      ğŸ“ Identify supported authentication methods. If multiple auth methods
      are available, decide which to build first.

  - id: understand-special-requirements
    name: Understand special requirements
    description: >
      If the user or the API itself appear to require advanced features,
      check the docs tool to understand how those features might be
      implemented before you start. Document special requirements in the
      'special requirements' tasks section.

  - id: confirm-secrets-and-connection-details
    name: Confirm secrets and connection details
    description: >
      If you need secrets and/or connection information, you will need to
      gather those from the user. This is a no-op if the user has already
      provided you a dotenv with all necessary values, or if the connector does
      not require secrets.

      Do not proceed until you have all necessary secrets and connection
      details.

      **Important**: Secrets should not be sent directly to or through the LLM.

  - id: create-connector-scaffold
    name: Create connector scaffold
    description: >
      Create the Kotlin source connector scaffold with the basic project
      structure, including build.gradle.kts, source files, and configuration.

  - id: implement-spec-operation
    name: Implement spec operation
    description: >
      ğŸ“ Implement the spec() operation that returns the connector's
      configuration specification (connection parameters, authentication, etc.).

  - id: implement-check-operation
    name: Implement check operation
    description: >
      ğŸ“ Implement the check() operation that validates the connection
      configuration and tests connectivity to the API.

stream_tasks: []

special_requirements: []

acceptance_tests:
  - id: connector-readiness-check
    name: Run connector readiness check tool and audit results
    description: >
      Run connector readiness check tool and audit results of all streams.

finalization_tasks:

  - id: run-connector-readiness-check
    name: Run connector readiness check
    description: >
      ğŸ“ Run the connector readiness check tool and closely inspect the report
      for any issues. You should always share the full report with your user.

      Address any issues found before proceeding. If required,
      you may return to earlier steps and fix problems as necessary.

      Do not ignore warnings or errors printed in the readiness check report. At minimum, let the user know about warnings - and defer to their
      judgment on whether to address them. You may suggest that they might
      be false positives, but you must provide evidence to support that claim
      if so.

  - id: build-and-package-connector
    name: Build and package connector
    description: >
      ğŸ“ Build the connector using Gradle and ensure it packages correctly
      as a Docker image.

  - id: provide-final-summary
    name: Provide final summary to user
    description: >
      ğŸ“ Provide a final summary to the user, including any important details
      about the connector, such as supported streams, authentication method,
      and any special configurations or considerations.
